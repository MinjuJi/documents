# 템플릿 코드

## SchoolApp.java
```java
  package kr.co.hta.school.app;
  
  public class SchoolApp {
    public static void main(String[] args) {
      StudentController studentContrller = new StudentController();
      ProfessorController professorController = new ProfessorController();
      
      while (true) {
        System.out.println("-----------------------------------------------");
        System.out.println("1.학생기능  2.교수기능  0.종료");
        System.out.println("-----------------------------------------------");
        
        System.out.print("메뉴 선택 > ");
        int menuNo = Keyboard.nextInt();
        
        if (menuNo == 1) {
          studentController.displayMenu();
        } else if (menuNo == 2) {
          professorController.displayMenu();
        } else if (menuNo == 0) {
          System.out.println("### 수강신청프로그램 종료");
          break;
        }
      }
    }
  }
```

## StudentController.java
```java
  package kr.co.hta.school.controller;
  
  public class StudentController {
    private StudentService studentService = new StudentService();
    
    public void displayMenu() {
      while (true) {
        try {
          System.out.println("[학생전용기능]");
          System.out.println("---------------------------------------------------------------");
          System.out.println("1.개설강의 조회  2.수강신청  3.수강신청내역조회  4.성적조회  0.종료")
          System.out.println("---------------------------------------------------------------");
          
          System.out.print("메뉴 선택 > ");
          int menuNo = Keyboard.nextInt();
          
          if (menuNo == 1) {
            viewAvailableLectures();
          } else if (menuNo == 2) {
            registerLectureRegistration();
          } else if (menuNo == 3) {
            viewMyLectureRegistrations();
          } else if (menuNo == 4) {
            viewMyExamScores();
          } else if (menuNo == 0) {
            System.out.println("### 학생전용기능 종료")
          }
        } catch (SchoolException e) {
          System.out.println("[오류:수강신청 업무로직 오류] " + e.getMessage());
          e.printStackTrace()
        } catch (SQLException e) {
          System.out.println("[오류:데이터베이스 엑세스 오류] " + e.getMessage());
          e.printStackTrace();
        } catch (NullPointerException e) {
          System.out.println("[오류:알 수 업슨 오류] " + e.getMessage());
          e.printStackTrace();
        }
      }
    }
    
    // 학번을 입력받아서 그 학생이 소속된 학과에서 개설한 수강신청 가능한 개설강의 목록을 화면에 출력한다.
    private void viewAvailableLectures() throws SQLException {
      // 1. 학번을 입력받는다.
      // 2. StudentService의 getAvailableLectures메소드를 호출해서 수강신청가능한 강의목록을 조회한다.
      // 3. 조회된 강의목록을 화면에 출력한다.
    }
    
    // 개설강의번호와 학번을 입력받아서 수강신청테이블에 수강신청정보를 저장한다.
    private void registerLectureRegistration() throws SQLException {
      // 1. 개설강의번호와 학번을 입력받는다.
      // 2. StudentService의 registerLectureRegistration메소드를 호출해서 수강신청업무를 수행한다.
    }
    
    // 학번을 입력받아서 그 학생이 수강신청한 강의목록을 화면에 출력한다.
    private void viewMyLectureRegistrations() throws SQLException {
      // 1. 학번을 입력받는다.
      // 2. StudentService의 getMyLectureRegistrations메소드를 호출해서 수강신청한 강의목록을 조회한다.
      // 3. 조회된 강의목록을 화면에 출력한다.
    }
    
    // 학번을 입력받아서 그 학생의 시험성적정보를 화면에 출력한다.
    private void viewMyExamScores() throws SQLException {
      // 1. 학번을 입력받는다.
      // 2. StudentService의 getMyExamScores메소드를 호출해서 시험성적정보를 조회한다.
      // 3. 조회된 시험성적정보를 화면에 출력한다.
    }
  }
```

## ProfessorController.java
```java
  package kr.co.hta.controller;
  
  public class ProfessorController {
    private ProfessorService professorService = new ProfessorService();
    
    public void displayMenu() {
      // TODO : 교수 전용 기능은 구현내용에 대한 설명 없음
    }
  }
```

## StudentService.java
```java
  package kr.co.hta.controller;
  
  public class StudentService {
    private StudentDao studentDao = new StudentDao();
    private LectureDao LectureDao = new LectureDao();
    private LectureRegistrationDao lectureRegistrationDao = new LectureRegistrationDao();
    private ExamDao examDao = new ExamDao();
    
    // 학번을 전달받아서 이 학생이 소속된 학과에서 개설한 개설강의목록을 반환한다.
    public List<Lecture> getAvailableLectures(int studeNo) throws SQLException {
      // 1. 학생테이블(SCHOOL_STUDENTS)에서 학번으로 학생정보를 조회한다.
      // 2. 학생정보가 존재하지 않으면 StudentNotFoundException을 발생시킨다.
      // 3. 학생정보에서 학과코드를 획득한다.
      // 4. 개설강의정보테이블(SCHOOL_LECTURES)에서 학과코드로 개설강의를 조회한다.
      // 5. 조회된 개설강의 목록을 반환한다.
      return null;
    }
    
    // 강의번호와 학번을 전달받아서 수강신청등록 테이블에 수강신청정보를 저장한다.
    public void registerLectureRegistration(int lectureNo, int studentNo) throws SQLException {
      // 1. 학생테이블(SCHOOL_STUDENTS)에서 학번으로 학생정보를 조회한다.
      // 2. 학생정보가 존재하지 않으면 StudentNotFoundException을 발생시킨다.
      // 3. 수강신청등록 테이블(SCHOOL_LECTURES_REGISTRATIONS)에서 학번과 강의코드로 수강신청정보를 조회한다.
      // 4. 수강신청정보가 존재하면 AlreadyRegistrationLectureException을 발생시킨다.
      // 5. 개설강의정보테이블(SCHOOL_LECTURES)에서 개설강의번호로 개설강의정보를 조회한다.
      // 6. 개설강의정보가 존재하지 않으면 LectureNotFoundException을 발생시킨다.
      // 7. 개설강의정보에서 모집마감여부를 조회한다.
      // 8. 모집마감여부가 'Y'인 경우 LectureFailureException을 발생시킨다.
      // 9. 수강신청등록 테이블(SCHOOL_LECTURES_REGISTRATIONS)에 수강신청등록번호, 학생번호, 강의번호를 저장한다.
      // 10. 개설강의정보테이블(SCHOOL_LECTURES)의 신청자수를 1증가시킨다.
    }
    
    // 학번을 전달받아서 수강신청테이블에서 수강신청한 강의목록을 반환한다.
    public List<LectureRegistrationDto> getMyLectureRegistrations(int studentNo) throws SQLException {
      // 1. 학생테이블(SCHOOL_STUDENTS)에서 학번으로 학생정보를 조회한다.
      // 2. 학생정보가 존재하지 않으면 StudentNotFoundException을 발생시킨다.
      // 4. 수강신청정보, 강의정보, 교수정보, 학과정보, 학생정보를 조인하고, 수강신청정보에서 해당학번의 정보를 조회한다.
      // 5. 조회된 개설강의목록정보를 반환한다.
      return null;
    }
    
    // 학번을 전달받아서 성적정보를 반환한다.
    public List<ExamDto> getMyExamScore(int studentNo) throws SQLException {
      // 1. 학생테이블(SCHOOL_STUDENTS)에서 학번으로 학생정보를 조회한다.
      // 2. 학생정보가 존재하지 않으면 StudentNotFoundException을 발생시킨다.
      // 3. 시험정보, 수강신청정보, 강의정보, 교수정보, 학과정보을 조인하고, 시험정보에서 해당 학번의 정보를 조회한다.
      // 4. 조회된 시험성적정보를 반환한다.
      return null;
    }
    
  }
```

### StudentDao.java
```java
  package kr.co.hta.dao;
  
  public class StudentDao {
    
    // 학번을 전달받아서 학생정보를 반환한다.
    public Student getStudentByNo(int studentNo) throws SQLException {
      
      return null;
    }
  }
```

### LectureDao.java
```java
  package kr.co.hta.dao;
  
  public class LectureDao {
    
    // 학과코드를 전달받아서 개설강의목록을 데이터베이스에서 조회한다.
    public List<Lecture> getLecturesByDeptCode(String deptCode) throws SQLException {
      
      return null;
    }

    // 개설강의번호를 전달받아서 개설강의정보를 데이터베이스에서 조회한다.
    public Lecture getLectureByNo(int lectureNo) throws SQLException {
    
      return null;
    }
    
    // 변경된 개설강의정보를 전달받아서 데이터베이스에 반영한다.
    public void updateLecture(Lecture lecture) throws SQLException {
    
    }
  }
```

## LectureRegistrationDao.java
```java
  package kr.co.hta.dao;
  
  public class LectureRegistrationDao {
  
    // 학번과 강의코드를 전달받아서 수강신청정보를 조회한다.
    public LectureRegistration getLectureRegistration(int studentNo, int lectureNo) throws SQLException {
      return  null;
    }
    
    // 수강신청정보를 전달받아서 데이터베이스에 반영한다.
    public void insertLectureRegistration(LectureRegistration lectureRegistration) throws SQLException {
    
    }
    
    // 학번을 전달받아서 수강신청정보를 데이터베이스에서 조회한다.
    public List<LectureRegistrationDto> getLectureRegistrationsByStudentNo(int studentNo) throws SQLException {
      return null;
    }
  }
```

## ExamDao.java
```java
  package kr.co.hta.dao;
  
  public class ExamDaoo {
  
    // 학번을 전달받아서 성적정보를 조회한다.
    public List<ExamDto> getExamScores(int studentNo) throws SQLException {
      return null;
    }
  }
```

## ValueObject와 DTO
```java
 package kr.co.hta.vo;
 
 public class Department {
   private String code;
   private String name;
   // getter, setter
 }
```
```java
  package kr.co.hta.vo;
  
  import java.util.Date;
  
  public class Professor {
    private String code;
    private String name;
    private String position;
    private String deptCode;
    private Date createDate;
    // getter, setter
  }
```
```java
  package kr.co.hta.vo;
  
  import java.util.Date;
  
  public class Student {
    private int no;
    private String name;
    private String email;
    private int grade;
    private String deptCode;
    private Date createDate;
    // getter, setter
  }
```
```java
  package kr.co.hta.vo;
  
  import java.util.Date;
  
  public class Lecture {
    private int no;
    private String name;
    private int year;
    private int term;
    private int type;
    private int grade;
    private int quota;
    private int regCnt;
    private String closed;
    private String completed;
    private String profCode;
    private String deptCode;
    private Date createDate;
    // getter, setter
  }
```
```java
  package kr.co.hta.vo;
  
  import java.util.Date;
  
  public class LectureRegistraion {
    private int no;
    private int studentNo;
    private int lectureNo;
    private Date createDate;
    // getter, setter
  }
```
```java
  package kr.co.hta.vo;
  
  import java.util.Date;
  
  public class Exam {
    private int no;
    private int registrationNo;
    private String type;
    private int score;
    private Date createDate;
    // getter, setter
  }
```
```java
  package kr.co.hta.dto;
  
  import java.util.Date;
  
  public class LectureRegistrationDto {
    private int no;                // 수강신청등록번호
    private int lecNo;             // 강의번호
    private int lecName;           // 강의이름
    private int lecYear;           // 강의개설년도
    private int lecTerm;           // 개설학기
    private int lecType;           // 강의종류
    private int lecGrade;          // 수강대상학년
    private int lecQuota;          // 모집정원
    private int lecRegCnt;         // 신청자 수
    private String lecClosed;      // 폐강여부
    private String lecCompleted;   // 모집완료여부
    private String profCode;       // 강의개설 교수코드
    private String profName;       // 강의개설 교수이름
    private String deptCode;       // 강의개설 학과코드
    private String deptName;       // 강의개설 학과이름
    private int studNo;            // 수강신청 학생번호
    private String studName;       // 수강신청 학생이름
    private int studGrade;         // 수강신청 학생학년
    private Date createDate;       // 수강신청정보 등록일자
    // getter, setter
  }
```
```java
  package kr.co.hta.dao;
  
  import java.util.Date;
  
  public class ExamDto {
    private int no;               // 시험성적번호
    private String type;          // 시험종류
    private int score;            // 시험점수
    private Date createDate;      // 시험점수 등록일
    private int registrationNo;   // 수강신청등록번호
    private int lecNo;            // 강의번호
    private int lecName;          // 강의이름
    private String profCode;      // 강의개설 교수코드
    private String profName;      // 강의개설 교수이름
    private String deptCode;      // 강의개설 학과코드
    private String deptName;      // 강의개설 학과이름
    private int studNo;           // 학생번호
    private String studName;      // 학생이름 
    private int studGrade;        // 학생의 학년
    // getter, setter
  }
```
