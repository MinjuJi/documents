# 북스토어
- 데이터베이스 스키마
```sql
create table sample_books (
    book_no number(7) constraint books_no_pk primary key,
    book_title varchar2(200) not null,
    book_writer varchar2(100) not null,
    book_genre varchar2(100) not null,
    book_price number(7) constraint books_price_ck check (book_price >= 0),
    book_stock number(6) default 100 constraint books_stock_ck check (book_stock >= 0),
    book_status varchar2(50) default '판매중' constraint books_status_ck check (book_status in ('판매중', '절판', '입고대기중', '입고지연')),
    book_create_date date default sysdate
);

create table sample_users (
    user_id varchar2(20),
    user_name varchar2(100) not null,
    user_password varchar2(20) not null,
    user_email varchar2(200),
    user_point number(10) default 0,
    user_disabled char(1) default 'N',
    user_create_date date default sysdate,
    
    constraint users_id_pk primary key (user_id),
    constraint users_email_uk unique (user_email),
    constraint users_point_ck check (user_point >= 0),
    constraint users_disabled_ck check (user_disabled in ('N', 'Y'))
);

create table sample_orders (
	order_no number(10),
	user_id varchar2(20) not null,
	order_status varchar2(50) not null,
	order_create_date date default sysdate,
	
	constraint orders_no_pk primary key (order_no),
	constraint orders_user_id_fk foreign key (user_id) 
	                             references sample_users (user_id),
	constraint orders_status_ck check (order_status in ('결재완료', '배송중', '배송완료', '취소'))
);

create table sample_order_items (
    order_no number(10) constraint orderitems_orderno_fk references sample_orders (order_no),
    book_no number(7) constraint orderitems_bookno_fk references sample_books (book_no),
    order_price number(7) constraint orderitems_price_ck check (order_price >= 0),
    order_amount number(5) constraint orderitems_amount_ck check (order_amount >= 1),
    
    constraint orderitems_pk primary key (order_no, book_no)
);

create table sample_user_point_histories (
    history_no number(10) constraint pointhistories_no_pk primary key,
    user_id varchar2(20) not null,
    history_content varchar2(100) not null,
    history_point number(10) not null,
    history_create_date date default sysdate,
    
    constraint pointhistories_no_fk foreign key (user_id) 
                                    references sample_users (user_id)
);
```
