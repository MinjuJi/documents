# 컴포넌트
- Vue.js에서 컴포넌트는 코드 베이스를 줄이고 단순화하는 강력한 구성요소다.
- 대부분의 Vue.js 앱은 하나 이상의 컴포넌트로 구성되어 있다.
- 컴포넌트를 사용하면 코드에서 반복되는 부분을 가져와 이해하기 쉬운 논리적인 작은 부분으로 분리할 수 있다.
- 각 컴포넌트는 애플리케이션 내에서 재사용할 수 있다.
- 컴포넌트는 엘리먼트의 집합체를 단일 엘리먼트를 이용하여 접근할 수 있게 한다.

## 컴포넌트의 생성
- 전역 컴포넌트 생성
  + 전역 컴포넌트는 애플리케이션 전체에서 사용가능하다.
  + 전역 컴포넌트 등록
    * 전역 컴포넌트는 Vue 인스턴스 앞에 배치해야 한다.
    * 컴포넌트에 정보를 표시하려면 템플릿 속성이 필요하다.
    * 템플릿은 HTML을 포함하고 있다.
    * 템플릿은 단일 태그로 감싸야 한다.
    ```javascript
      Vue.component('my-component', {
        template: '<div>전역컴포넌트 연습</div>'
      });

      new Vue({
        el: '#app'
      })
    ```
    ```html
      <div id="app">
        <my-component></my-component>
      </div>
    ```

- 지역 컴포넌트 생성
  + 지역 컴포넌트는 컴포넌트가 생성된 Vue 인스턴스 내에서만 사용가능하다.
  + 지역 컴포넌트는 해당 컴포넌트가 등록된 Vue 인스턴스에서만 접근할 수 있다.
  + 지역 컴포넌트는 Vue 인스턴스의 components 속성에 키-값의 쌍으로 등록된다.
    * 키는 부모 컴포넌트에서 참조할 컴포넌트 이름이다.
    * 값은 컴포넌트다.
  ```javascript
    const Component = {
      template: '<div>지녁컴포넌트 연습</div>'
    }

    new Vue({
      el: "#app",
      components: {'myComponent', Component}  // 'myComponent'라는 카멜 케이스 이름으로 등록한 컴포넌트를 HTML에서 사용할 때는 <my-component> 케밥 케이스를 사용한다.
    });
  ```
  ```html
    <div>
      <my-component></my-component>    
    </div>
  ```

## 컴포넌트의 관계
- 부모 컴포넌트와 자식 컴포넌트
  + 부모 컴포넌트는 자식 컴포넌트를 포함한다.
  + 각 컴포넌트는 격리된 범위를 가진다.
  + 부모 컴포넌트는 데이터를 자식 컴포넌트에 전달할 수 있다.
  + 자식 컴포넌트는 부모 컴포넌트의 데이터에 직접 접근할 수 없다.
  + 자식 컴포넌트는 부모 컴포넌트로부터 전달받을 데이터를 props 속성을 사용해서 명시해야 한다.
  + 컴포넌트는 단방향 데이터 바인딩을 형성한다.
  + 모든 값은 참조로 전달되기 때문에 객체나 배열이 자식 컴포넌트 내에서 변경되면 부모 컴포넌트의 상태에 영향을 주게된다.
  + 데이터에 대한 모든 변경은 부모 컴포넌트에서만 이루져야 한다
- props를 사용해서 자식 컴포넌트로 데이터 전달하기
  + 리터럴값 전달하기
  ```html
    <div>
      <my-component text="홍길동"></my-component>
    </div>

    <script>
      // 자식 컴포넌트 정의
      const MyComponent = {
        template: '<div>{{name}}</div>',
        props: ['text'] 
      }
    <script>
  ```
  + 속성 전달하기
  ```html
    <div id="app">
      <!-- 
        v-bind 지시자를 이용해서 자식 컴포넌트의 username props에 부모 컴포넌트가 전달한 값을 연결짓는다.
      -->
      <my-component v-bind:username="name"></my-component> 
    </div>
    <script>
      const MyComponent = {
        template: "<div>안녕하세요 {{username}}</div>",
        props: ['username'] // 부모 컴포넌트가 전달해주는 데이터를 바인딩하기 위한 속성을 지정한다.
      };

      new Vue({
        el: "#app",
        data: function() {
          return {
            name: '홍길동'
          }  
        },
        components:{"my-component":MyComponent}
      })
    </script>
  ```
  + 속성값에 대한 유효성 체크하기
    * vue.js는 부모 컴포넌트로부터 전달받은 속성에 대한 유효성 여부를 검증할 수 있다.
    * vue.js는 아래의 속성타입에 대한 검증을 지원한다.
      - 문자열, 숫자, 불린, 함수, 객체, 배열, 기호
    * 속성에 대한 검증 예시
    ```javascript
      const MyComponent = {
        props: {
          속성명: {
            type: Number,
            required: true
          },
          속성명: {
            type: String,
            default: '디폴트값'
          },
          속성명: {
             validator: (value) => {
               // value의 값을 검증하는 코드
               // return 유효성 검증을 통과했는지의 여부 
             }
          }
        }
      }
    ```
### 부모-자식 컴포넌트의 관계
- 컴포넌트는 부모-자식 관계에서 일반적으로 함께 사용하기 위한 것이다.
- 부모 컴포넌트는 자체 템플릿에서 자식 컴포넌트를 사용할 수 있다.
- 부모 컴포넌트와 자식 컴포넌트는 필용적으로 서로 의사소통이 필요하다.
- 부모 컴포넌트는 자식 컴포넌트에게 데이터를 전달할 수 있다.
- 자식 컴포넌트는 자신에게 일어난 일을 부모에게 알릴 필요가 있다.
- 부모 컴포넌트와 자식 컴포넌트는 명확하게 정의된 인터페이스를 통해 가능한한 분리된 상태로 유지되는 것이 좋다.
- 각 컴포넌트 간의 코드를 상대적으로 격리 할 수 있도록 작성하고 추론할 수 있으므로 유지 관리가 쉽고 재사용성이 높아진다.
- vue.js에서 부모-자식 컴포넌트 관계는 **props는 아래로**, **events는 위로** 라고 요약할 수 있다.
- 부모 컴포넌트는 **props**를 통해 자식에게 데이터를 전달하고, 자식은 **events**를 통해 부모에게 메세지를 보낸다.
  

## 사용자 정의 이벤트
- vue.js는 고유의 이벤트 인터페이스를 가지고 있다.
- 커스텀 **이벤트의 이름은 kebab-case를 사용**하는 것이 권장된다.
- 이벤트 인터페이스는 $on(이벤트명)을 사용하여 이벤트를 수신하고, $emit(이벤트명)을 사용하여 이벤트를 트리거한다.
- custom-event.html 참조
